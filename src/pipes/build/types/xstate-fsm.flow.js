"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FSM = exports.IS_PRODUCTION = exports.assign = exports.FSMConfig = exports.FSM$State = exports.FSM$Transition = exports.Action = exports.ActionObject = exports.EventObject = exports.SingleOrArray = void 0;

var _flowRuntime = _interopRequireDefault(require("flow-runtime"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// ./src/shared/structs/base/types/xstate-fsm.flow.js

/**
 * Flowtype definitions for index
 * Generated by Flowgen from a Typescript Definition
 * Flowgen v1.8.3
 * Author: [Joar Wilk](http://twitter.com/joarwilk)
 * Repo: http://github.com/joarwilk/flowgen
 */
const SingleOrArray = _flowRuntime.default.type("SingleOrArray", SingleOrArray => {
  const T = SingleOrArray.typeParameter("T");
  return _flowRuntime.default.union(_flowRuntime.default.array(T), T);
});

exports.SingleOrArray = SingleOrArray;

const EventObject = _flowRuntime.default.type("EventObject", _flowRuntime.default.object(_flowRuntime.default.property("type", _flowRuntime.default.string()), _flowRuntime.default.indexer("key", _flowRuntime.default.string(), _flowRuntime.default.any())));

exports.EventObject = EventObject;

const ActionObject = _flowRuntime.default.type("ActionObject", ActionObject => {
  const TContext = ActionObject.typeParameter("TContext"),
        TEvent = ActionObject.typeParameter("TEvent");
  return _flowRuntime.default.object(_flowRuntime.default.property("type", _flowRuntime.default.string()), _flowRuntime.default.property("exec", _flowRuntime.default.function(_flowRuntime.default.param("context", TContext), _flowRuntime.default.param("event", TEvent), _flowRuntime.default.return(_flowRuntime.default.void())), true), _flowRuntime.default.indexer("key", _flowRuntime.default.string(), _flowRuntime.default.any()));
});

exports.ActionObject = ActionObject;

const Action = _flowRuntime.default.type("Action", Action => {
  const TContext = Action.typeParameter("TContext"),
        TEvent = Action.typeParameter("TEvent", EventObject);
  return _flowRuntime.default.union(_flowRuntime.default.$propertyType(TEvent, _flowRuntime.default.string("type")), _flowRuntime.default.ref(ActionObject, TContext, TEvent), _flowRuntime.default.function(_flowRuntime.default.param("context", TContext), _flowRuntime.default.param("event", TEvent), _flowRuntime.default.return(_flowRuntime.default.void())));
});

exports.Action = Action;

const FSM$Transition = _flowRuntime.default.type("FSM$Transition", FSM$Transition => {
  const TContext = FSM$Transition.typeParameter("TContext"),
        TEvent = FSM$Transition.typeParameter("TEvent", EventObject);
  return _flowRuntime.default.union(_flowRuntime.default.string(), _flowRuntime.default.object(_flowRuntime.default.property("target", _flowRuntime.default.string(), true), _flowRuntime.default.property("actions", _flowRuntime.default.ref(SingleOrArray, _flowRuntime.default.ref(Action, TContext, TEvent)), true), _flowRuntime.default.property("cond", _flowRuntime.default.function(_flowRuntime.default.param("context", TContext), _flowRuntime.default.param("event", TEvent), _flowRuntime.default.return(_flowRuntime.default.boolean())), true)));
});

exports.FSM$Transition = FSM$Transition;

const FSM$State = _flowRuntime.default.type("FSM$State", FSM$State => {
  const TContext = FSM$State.typeParameter("TContext"),
        TEvent = FSM$State.typeParameter("TEvent");
  return _flowRuntime.default.object(_flowRuntime.default.property("value", _flowRuntime.default.string()), _flowRuntime.default.property("context", TContext), _flowRuntime.default.property("actions", _flowRuntime.default.array(_flowRuntime.default.ref(ActionObject, TContext, TEvent))), _flowRuntime.default.property("changed", _flowRuntime.default.boolean()));
});

exports.FSM$State = FSM$State;

const FSMConfig = _flowRuntime.default.type("FSMConfig", FSMConfig => {
  const TContext = FSMConfig.typeParameter("TContext"),
        TEvent = FSMConfig.typeParameter("TEvent", EventObject);
  return _flowRuntime.default.object(_flowRuntime.default.property("id", _flowRuntime.default.string(), true), _flowRuntime.default.property("initial", _flowRuntime.default.string()), _flowRuntime.default.property("context", TContext, true), _flowRuntime.default.property("states", _flowRuntime.default.object(_flowRuntime.default.indexer("key", _flowRuntime.default.string(), _flowRuntime.default.object(_flowRuntime.default.property("on", _flowRuntime.default.object(_flowRuntime.default.indexer("event", _flowRuntime.default.string(), _flowRuntime.default.ref(SingleOrArray, _flowRuntime.default.ref(FSM$Transition, TContext, TEvent)))), true), _flowRuntime.default.property("exit", _flowRuntime.default.ref(SingleOrArray, _flowRuntime.default.ref(Action, TContext, TEvent)), true), _flowRuntime.default.property("entry", _flowRuntime.default.ref(SingleOrArray, _flowRuntime.default.ref(Action, TContext, TEvent)), true))))));
});

exports.FSMConfig = FSMConfig;

const assign = _flowRuntime.default.type("assign", _flowRuntime.default.function(_flowRuntime.default.param("assignment", _flowRuntime.default.any()), _flowRuntime.default.return(_flowRuntime.default.ref(ActionObject, _flowRuntime.default.any(), _flowRuntime.default.any()))));

exports.assign = assign;

const IS_PRODUCTION = _flowRuntime.default.type("IS_PRODUCTION", _flowRuntime.default.boolean());

exports.IS_PRODUCTION = IS_PRODUCTION;

const FSM = _flowRuntime.default.type("FSM", FSM => {
  const TContext = FSM.typeParameter("TContext", _flowRuntime.default.object(_flowRuntime.default.indexer("key", _flowRuntime.default.string(), _flowRuntime.default.any()))),
        TEvent = FSM.typeParameter("TEvent", EventObject);
  return _flowRuntime.default.function(_flowRuntime.default.param("fsmConfig", _flowRuntime.default.ref(FSMConfig, TContext, TEvent)), _flowRuntime.default.return(_flowRuntime.default.object(_flowRuntime.default.property("initialState", _flowRuntime.default.ref(FSM$State, TContext, TEvent)), _flowRuntime.default.property("transition", _flowRuntime.default.function(_flowRuntime.default.param("state", _flowRuntime.default.union(_flowRuntime.default.string(), _flowRuntime.default.ref(FSM$State, TContext, TEvent))), _flowRuntime.default.param("event", _flowRuntime.default.union(_flowRuntime.default.string(), _flowRuntime.default.intersection(_flowRuntime.default.object(_flowRuntime.default.indexer("key", _flowRuntime.default.string(), _flowRuntime.default.any())), _flowRuntime.default.object(_flowRuntime.default.property("type", _flowRuntime.default.string()))))), _flowRuntime.default.return(_flowRuntime.default.ref(FSM$State, TContext, TEvent)))))));
});

exports.FSM = FSM;